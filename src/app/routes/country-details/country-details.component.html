<ng-container *ngIf="country$ | async as country; else loading">
  <main>
    <div class="mx-auto sm:px-6 lg:px-8 h-full">
      <div
        class="px-4 py-2 sm:px-0 h-full flex flex-col justify-center items-center"
      >
        <div class="country-box flex-1 mt-6 w-full max-w-3xl">
          <div
            class="country-container flex flex-col items-center justify-center w-full h-full max-h-full"
          >
            <h1
              class="text-2xl text-center sm:text-start font-semibold self-start"
            >
              {{ country.translations.pol.common | titlecase }}
            </h1>
            <div
              class="country-inner w-full max-w-3xl mt-6 max-h-full rounded-lg flex-col flex bg-white"
            >
              <div class="overflow-hidden bg-white shadow sm:rounded-lg">
                <div class="px-4 py-5 sm:px-6 flex justify-between">
                  <img
                    src="{{ country.flags.svg }}"
                    alt=""
                    class="object-cover shadow-sm shadow-gray-500 w-32 h-24"
                    loading="lazy"
                  />
                  <div class="contry-cca3 flex flex-col justify-center">
                    <span
                      class="font-semibold text-6xl sm:text-8xl text-gray-400"
                      >{{ country.cca3 | uppercase }}</span
                    >
                  </div>
                </div>
                <div class="content border-t border-gray-200">
                  <dl>
                    <div>
                      <dt>Stolica:</dt>
                      <dd>{{ country.capital }}</dd>
                    </div>
                    <div>
                      <dt>Region:</dt>
                      <dd>
                        {{ region | titlecase }}
                      </dd>
                    </div>
                    <div>
                      <dt>Waluta:</dt>
                      <dd>
                        <ng-container
                          *ngFor="let country of country.currencies | keyvalue"
                        >
                          <app-tag
                            [currency]="country.value"
                            class="mr-2"
                          ></app-tag>
                        </ng-container>
                      </dd>
                    </div>
                    <div>
                      <dt>Populacja:</dt>
                      <dd>
                        {{ country.population | shortNumber }}
                      </dd>
                    </div>
                  </dl>
                  <div
                    class="flex w-full justify-center align-middle py-6 border-t border-gray-200"
                  >
                    <a [attr.href]="country.maps.googleMaps" target="_blank"
                      ><button
                        class="bg-zinc-800 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded inline-flex items-center content-center transition-all"
                      >
                        <i class="fa fa-map-marker mr-3" aria-hidden="true"></i>
                        <span>Poka≈º na mapie</span>
                      </button></a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</ng-container>

<ng-template #loading>
  <app-loading></app-loading>
</ng-template>
